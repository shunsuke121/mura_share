{# templates/frontend/profile/history.html #}
{% extends "base.html" %}
{% block title %}取引履歴{% endblock %}

{% block content %}
<div class="container py-4">
  <h4 class="mb-3">取引履歴</h4>

  {% if not history_items %}
    <p class="text-muted">完了した取引はまだありません。</p>
  {% else %}
    <div class="row row-cols-1 row-cols-md-3 g-3">
      {% for item in history_items %}
        <div class="col">
          <div class="position-relative">
            {# 既存カードをそのまま使う #}
            {% include "frontend/products/_card.html" with product=item.product %}

            {# バッジを上に重ねる #}
            {% if item.kind == "rental" %}
              <span class="trade-badge trade-badge--rental">レンタル</span>
            {% else %}
              <span class="trade-badge trade-badge--purchase">購入</span>
            {% endif %}
          </div>
        </div>
      {% endfor %}
    </div>
  {% endif %}
</div>
{% endblock %}
